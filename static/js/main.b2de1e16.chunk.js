(this["webpackJsonpmy-slack"]=this["webpackJsonpmy-slack"]||[]).push([[0],{18:function(e,t,r){e.exports={loading:"style_loading__3WcGI",loading_dot:"style_loading_dot__2rhFw",loadingFade:"style_loadingFade__34drT"}},59:function(e,t,r){},99:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(49),c=r.n(a),i=(r(59),r(2)),o=r.n(i),l=r(5),d=r(3),u=r(25),j=r(18),b=r.n(j),m=r(1),x=function(){return Object(m.jsxs)("div",{className:b.a.loading,children:[Object(m.jsx)("div",{className:b.a.loading_dot}),Object(m.jsx)("div",{className:b.a.loading_dot}),Object(m.jsx)("div",{className:b.a.loading_dot}),Object(m.jsx)("div",{className:b.a.loading_dot})]})},h=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(r){return}},p=function(e,t){try{var r=JSON.stringify(e);localStorage.setItem(t,r)}catch(n){throw new Error("Can't save changes in local storage")}},g=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("auth");case 3:return r=e.sent,e.next=6,t("https://appslack.herokuapp.com/api/is_auth/"+r.userId,"get",null,{Authorization:"Bearer ".concat(r.token)});case 6:return n=e.sent,e.abrupt("return",n||!1);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=r(6),O=r(4),v=r(50),w=function(e,t){return e.length===t.length&&e.every((function(e){return t.some((function(t){return e===t}))}))},y=function(e){var t=e.allUsersChat,r=e.myUsersChat,n=e.verify;return Object(m.jsxs)("section",{className:"flex flex-col w-1/12 bg-white rounded-l-3xl min-h-screen ",children:[Object(m.jsx)("div",{className:"w-16 mx-auto mt-12 mb-20 p-4 h-200 bg-indigo-600 rounded-2xl text-white",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})})}),Object(m.jsxs)("nav",{className:"relative flex flex-col py-4 items-center ",children:[Object(m.jsx)("div",{onClick:t,className:"w-16 p-4 border text-gray-700 rounded-2xl mb-24 cursor-pointer",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Object(m.jsx)("div",{onClick:r,href:"#",className:"w-16 p-4 border text-gray-700 rounded-2xl cursor-pointer",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),Object(m.jsx)("div",{onClick:function(){p("","auth"),n()},href:"#",className:"w-16 p-4 border text-gray-700 rounded-2xl cursor-pointer",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})})]})]})},N=function(e,t){return!e||e.split("").every((function(e,r){return e.toUpperCase()===t[r].toUpperCase()}))},k=function(e){var t=e.allUsers,r=e.selectedUser,s=e.selectedUserChat,a=e.isCommunicate,c=e.userEmail,i=Object(n.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1],j=t.map((function(e,t){return e.userName?N(l,e.email)||N(l,e.userName)?Object(m.jsxs)("li",{className:e.email===s[0]?"py-5 border-b px-3 bg-indigo-100 transition hover:bg-indigo-200 cursor-pointer":"py-5 border-b px-3 transition hover:bg-indigo-200 cursor-pointer",onClick:function(){r([e.email],e.userName,null),a(!0)},children:[Object(m.jsxs)("a",{className:"flex justify-between items-center",children:[Object(m.jsx)("h3",{className:"text-lg font-semibold",children:e.userName}),Object(m.jsx)("p",{className:"text-md text-gray-400",children:"???"})]}),Object(m.jsx)("div",{className:"text-md italic text-gray-400",children:e.email})]},t):Object(m.jsx)("div",{},t):Object(m.jsx)("li",{className:w(e.emails,s)?"py-5 border-b px-3 bg-indigo-100 transition hover:bg-indigo-200 cursor-pointer":"py-5 border-b px-3 transition hover:bg-indigo-100 cursor-pointer",onClick:function(){r(e.emails,e.name[0],e.msg),a(e.writes.some((function(e){return e===c})))},children:Object(m.jsxs)("div",{className:"flex justify-between items-center",children:[Object(m.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),Object(m.jsx)("p",{className:"text-md text-gray-400",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},t)}));return Object(m.jsxs)("section",{className:"flex flex-col pt-3 w-4/12 bg-gray-50 h-full overflow-y-scroll mt-4 min-h-screen",children:[t[0]&&t[0].userName?Object(m.jsx)("label",{className:"px-3",children:Object(m.jsx)("input",{className:"rounded-lg p-4 bg-gray-100 transition duration-200 focus:outline-none focus:ring-2 w-full",placeholder:"Search...",value:l,onChange:function(e){u(e.target.value)}})}):Object(m.jsx)(m.Fragment,{}),Object(m.jsx)("ul",{className:"mt-6",style:{maxHeight:"74vh"},children:j})]})},C="Something went wrong",S=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(null),c=Object(d.a)(a,2),i=c[0],u=c[1],j=Object(n.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n,a,c,i,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,a=l.length>3&&void 0!==l[3]?l[3]:{},s(!0),e.prev=4,n&&(n=JSON.stringify(n),a["Content-Type"]="application/json"),e.next=8,fetch(t,{method:r,body:n,headers:a});case 8:return c=e.sent,e.next=11,c.json();case 11:if(i=e.sent,c.ok){e.next=14;break}throw new Error(i.message||C);case 14:return s(!1),e.abrupt("return",i);case 18:throw e.prev=18,e.t0=e.catch(4),s(!1),u(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:r,request:j,error:i,clearError:Object(n.useCallback)((function(){return u(null)}),[])}},L=function(e){var t=e.email,r=Object(n.useState)([]),s=Object(d.a)(r,2),a=s[0],c=s[1],i=Object(n.useState)([]),u=Object(d.a)(i,2),j=u[0],b=u[1],x=Object(n.useState)(!0),h=Object(d.a)(x,2),p=h[0],g=h[1],f=[".png",".jpg",".jpeg",".gif"],v=S().request,w=[],y=[],N=Object(n.useRef)();Object(n.useEffect)((function(){c((function(e){return Object(m.jsx)("div",{className:"preview",children:j.map((function(e,t){return Object(m.jsx)("div",{className:"w-20",children:Object(m.jsx)("img",{src:e})},t)}))})}))}),[j]),Object(n.useEffect)((function(){p&&(N.current.setAttribute("multiple",!0),N.current.setAttribute("accept",f.join(",")))}),[]);var k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("https://appslack.herokuapp.com/api/save_photo/","POST",{email:t,photo:j});case 2:g(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"flex justify-center mb-1 mt-2",children:p?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)("div",{className:"w-20 h-20 flex justify-center items-center overflow-hidden rounded-full border-b-4 border-l-2 border-blue-600",children:1===j.length?a:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),Object(m.jsx)("input",{type:"file",className:"hidden",ref:N,onChange:function(e){e.target.files.length&&(w=Array.from(e.target.files)).forEach((function(e,t){if(e.type.match("image")){var r=new FileReader;r.onload=function(e){var r=e.target.result;y=[].concat(Object(O.a)(y),[r]),t===w.length-1&&b(Object(O.a)(y))},r.readAsDataURL(e)}}))}}),Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("div",{className:"cursor-pointer  h-10 rounded relative top-3 left-2 px-3 py-2 m-1 border-b-4 border-l-2 shadow-lg bg-blue-700 border-blue-900 text-white",onClick:function(){return N.current.click()},children:"CHOOSE A PHOTO"}),1===j.length?Object(m.jsx)("div",{className:"cursor-pointer  h-10 rounded relative top-3 left-2 px-3 py-2 m-1 border-b-4 border-l-2 shadow-lg bg-red-700 border-red-900 text-white",onClick:k,children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}):Object(m.jsx)(m.Fragment,{})]})]}):Object(m.jsx)("div",{className:"w-20 h-20 flex justify-center items-center overflow-hidden rounded-full border-b-4 border-l-2 text-green-400 border-green-600",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})},M=function(e){var t=e.group,r=e.addGroup,n=e.groupData,s=e.sendFirstGroupMsg,a=e.groupName,c=e.changeGroupName,i=e.removeFromList,o=e.changeWriterStatus,l=n.slice(1).map((function(e,t){return Object(m.jsx)("li",{className:"py-2 border-b h-12 px-3 transition  ",children:Object(m.jsxs)("div",{className:"flex justify-between items-center",children:[Object(m.jsx)("h3",{className:"text-lg font-semibold",children:e}),0===t?Object(m.jsx)(m.Fragment,{}):Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{onClick:function(){i(e)},className:"text-md w-12 h-12 cursor-pointer p-3 relative -top-2 rounded-lg border-b-4 border-l-2 text-gray-600  hover:bg-yellow-200 ",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),Object(m.jsx)("p",{onClick:function(){o(e)},className:n[0].writes.some((function(t){return t===e}))?"text-md ml-2 w-12 h-12 cursor-pointer p-3 relative -top-2 rounded-lg border-b-4 border-l-2 text-gray-600  hover:bg-red-400 ":"bg-red-400 text-md ml-2 w-12 h-12 cursor-pointer p-3 relative -top-2 rounded-lg border-b-4 border-l-2 text-gray-600  hover:bg-red-500 ",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]})},t)}));return Object(m.jsx)(m.Fragment,{children:t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:"mt-6 max-h-screen",children:l}),Object(m.jsx)("label",{className:"flex justify-center py-4",children:Object(m.jsx)("input",{className:"w-2/3 rounded-lg h-12 p-4 bg-gray-100 transition duration-200 ring-1 focus:outline-none focus:ring-2 ",placeholder:"Group name",value:a,onChange:c})}),Object(m.jsxs)("div",{className:"flex justify-center",children:[Object(m.jsx)("button",{onClick:function(){a&&n.length>3&&s()},className:" w-1/3 rounded px-3 py-2 m-1 border-b-4 border-l-2 shadow-lg bg-blue-700 border-blue-900 text-white",children:"+ Create"}),Object(m.jsx)("button",{onClick:r,className:" w-1/3 rounded px-3 py-2 m-1 border-b-4 border-l-2 shadow-lg bg-gray-200 border-gray-300 ",children:"Cancel"})]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(L,{email:n.slice(1)[0]}),Object(m.jsxs)("div",{onClick:r,className:"flex flex-row-reverse flex-wrap m-auto relative -top-16",children:[Object(m.jsx)("button",{className:"rounded px-3 py-2 m-1 border-b-4 border-l-2 shadow-lg bg-blue-700 border-blue-900 text-white",children:"+ Add Group"}),Object(m.jsx)("button",{className:"rounded px-3 py-2 m-1 border-b-4 border-l-2 shadow-lg bg-blue-50 ",href:"",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})]})})},F=function(e){var t=e.user,r=e.sendMsg,s=e.msg,a=e.text,c=e.changeHendler,i=e.group,u=e.selected,j=e.addGroup,b=e.groupData,x=e.sendFirstGroupMsg,p=e.groupName,g=e.changeGroupName,f=e.myPage,O=e.removeFromList,v=e.changeWriterStatus,w=e.communicate,y=Object(n.useState)(t.userName[0]),N=Object(d.a)(y,2),k=N[0],C=N[1],L=S().request,F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("auth");case 3:return t=e.sent,e.next=6,L("https://appslack.herokuapp.com/api/get_photo/"+t.userId,"get",null,{Authorization:"Bearer ".concat(t.token)});case 6:r=e.sent,n=JSON.parse(r.photo)[0],C(n?Object(m.jsx)("div",{className:"w-16",children:Object(m.jsx)("img",{src:n})}):k),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){F()}),[]);var z=s.map((function(e,r){return e=JSON.parse(e),Object(m.jsxs)("li",{className:"py-5 border-b px-3 transition ",children:[Object(m.jsx)("span",{className:"mr-4 ",children:t.email===e.writes?"":e.writes}),Object(m.jsx)("p",{className:t.email===e.writes?"bg-gray-100 text-right":"bg-green-50",children:e.text})]},r)}));return Object(m.jsxs)("section",{className:"w-6/12 px-4 flex flex-col bg-white rounded-r-3xl",children:[Object(m.jsxs)("div",{className:"flex justify-between items-center h-48 border-b-2 mb-8",children:[Object(m.jsxs)("div",{onClick:f,className:"flex space-x-4 items-center cursor-pointer",children:[Object(m.jsx)("div",{className:"flex justify-center items-center h-14 w-14 rounded-full overflow-hidden bg-gray-200 border-2 border-green-800 ",children:Object(m.jsx)("h2",{className:"font-semibold text-lg",children:k})}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("h3",{className:"font-semibold text-lg",children:t.userName}),Object(m.jsx)("p",{className:"text-light text-gray-400",children:t.email})]})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:"flex text-gray-400 space-x-4",children:[Object(m.jsx)("li",{className:"w-6 h-6",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})})}),Object(m.jsx)("li",{className:"w-6 h-6",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),!i&&u?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("section",{className:"flex flex-col pt-1  bg-gray-50 h-full overflow-y-scroll",style:{scrollPaddingBottom:"10px"},children:Object(m.jsx)("ul",{className:"max-h-32 ",children:z})}),w?Object(m.jsxs)("section",{className:"mt-6 border rounded-xl bg-gray-50 mb-3",children:[Object(m.jsx)("textarea",{className:"w-full bg-gray-50 p-2 rounded-xl",placeholder:"Type your reply here...",rows:"3",onChange:c,value:a}),Object(m.jsxs)("div",{className:"flex items-center justify-between p-2",children:[Object(m.jsx)("button",{className:"h-6 w-6 text-gray-400",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),Object(m.jsx)("button",{onClick:function(){return r()},className:"bg-purple-600 text-white px-6 py-2 rounded-xl",children:"Reply"})]})]}):Object(m.jsx)(m.Fragment,{})]}):Object(m.jsx)("section",{className:"flex flex-col pt-1  bg-gray-50 h-full ",children:Object(m.jsx)(M,{group:i,addGroup:j,groupData:b,sendFirstGroupMsg:x,groupName:p,changeGroupName:g,removeFromList:O,changeWriterStatus:v})})]})},z=Object(v.io)("https://appslack.herokuapp.com/"),A=function(e){var t=e.user,r=e.allUsers,s=e.verify,a=Object(n.useState)([]),c=Object(d.a)(a,2),i=c[0],o=c[1],l=Object(n.useState)(""),u=Object(d.a)(l,2),j=u[0],b=u[1],x=Object(n.useState)(!1),h=Object(d.a)(x,2),p=h[0],g=h[1],f=Object(n.useState)(null),v=Object(d.a)(f,2),N=v[0],C=v[1],S=Object(n.useState)(!1),L=Object(d.a)(S,2),M=L[0],A=L[1],I=Object(n.useState)([{name:["group"],writes:[t.email]},t.email]),B=Object(d.a)(I,2),W=B[0],E=B[1],H=Object(n.useMemo)((function(){return JSON.parse(t.chatId).map((function(e){return{writes:e.options.writes,emails:e.emails.filter((function(e){return e!==t.email})),name:e.options.name.filter((function(e){return e!==t.userName})),msg:e.msg}}))}),[t]),T=Object(n.useState)(H),V=Object(d.a)(T,2),_=V[0],G=V[1];Object(n.useEffect)((function(){z.emit("ROOM:CHAT",{msg:"",email:t.email,id:z.id}),z.on("ROOM:CHAT",(function(e){e&&s()}))}),[]);Object(n.useEffect)((function(){N&&JSON.parse(t.chatId).forEach((function(e){w(e.emails,N.slice(1))&&o(i?e.msg:[])})),G(H)}),[H]);var U=N?N.slice(1).filter((function(e){return e!==t.email})):[];return Object(m.jsxs)("main",{className:"flex w-full h-full justify-center shadow-lg rounded-3xl ",children:[Object(m.jsx)(y,{allUsersChat:function(){G(r)},myUsersChat:function(){G(H)},verify:s}),Object(m.jsx)(k,{allUsers:_,selectedUser:function(e,r,n){if(p){if(W.slice(1).some((function(t){return t===e[0]}))||e.length>1)return;E([{name:Object(O.a)(W[0].name),writes:[].concat(Object(O.a)(W[0].writes),Object(O.a)(e))}].concat(Object(O.a)(W.slice(1)),Object(O.a)(e)))}else C([{name:[r,t.userName],writes:[].concat(Object(O.a)(e),[t.email])}].concat(Object(O.a)(e),[t.email])),o(n||[])},selectedUserChat:U,isCommunicate:function(e){A(e)},userEmail:t.email}),Object(m.jsx)(F,{user:t,sendMsg:function(){j&&z.emit("ROOM:CHAT",{msg:JSON.stringify({text:j,writes:t.email}),email:JSON.stringify(N),id:null}),b("")},msg:i,text:j,changeHendler:function(e){b(e.target.value)},group:p,selected:N,addGroup:function(){g(!p),E([{name:["group"],writes:[t.email]},t.email])},groupData:W,sendFirstGroupMsg:function(){z.emit("ROOM:CHAT",{msg:JSON.stringify({text:"you joined the group",writes:"Slack"}),email:JSON.stringify(W),id:null}),g(!p)},groupName:W[0].name[0],changeGroupName:function(e){E([{name:[e.target.value],writes:Object(O.a)(W[0].writes)}].concat(Object(O.a)(W.slice(1))))},myPage:function(){C(null)},removeFromList:function(e){E([{name:Object(O.a)(W[0].name),writes:Object(O.a)(W[0].writes.filter((function(t){return t!==e})))}].concat(Object(O.a)(W.slice(1).filter((function(t){return t!==e})))))},changeWriterStatus:function(e){E([{name:Object(O.a)(W[0].name),writes:W[0].writes.some((function(t){return t===e}))?W[0].writes.filter((function(t){return t!==e})):[].concat(Object(O.a)(W[0].writes),[e])}].concat(Object(O.a)(W.slice(1))))},communicate:M})]})},I=r(19),B=r(53),W=r(54),E=function(e){var t=e.isValid,r=e.valid,n=e.onSubmit,s=e.type,a=Object(W.a)(),c=a.register,i=a.handleSubmit;return Object(m.jsxs)("form",{onSubmit:i(n),onChange:i(t),className:"mt-20 space-y-6",method:"POST",children:[Object(m.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(m.jsxs)("div",{className:" mb-6",children:[Object(m.jsxs)("label",{htmlFor:"Email",className:"block uppercase tracking-wide text-gr\u0430y-700 text-xs font-bold mb-2",children:[Object(m.jsx)("span",{className:"text-red-500",children:"\xa0*"}),"email"]}),Object(m.jsx)("input",Object(I.a)(Object(I.a)({type:"email",name:"",id:""},c("email")),{},{placeholder:"Your Email",className:r.emailIsValid?"border p-2 w-full mt-3 ":"border p-2 w-full mt-3 bg-red-100"}))]}),"Log in"===s?Object(m.jsx)(m.Fragment,{}):Object(m.jsxs)("div",{className:" mb-6",children:[Object(m.jsxs)("label",{htmlFor:"username",className:"block uppercase tracking-wide text-gr\u0430y-700 text-xs font-bold mb-2",children:[Object(m.jsx)("span",{className:"text-red-500",children:"\xa0*"}),"username"]}),Object(m.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(m.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(m.jsx)("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),Object(m.jsx)("input",Object(I.a)({id:"username",className:r.usernameIsValid?"block appearance-none bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-orange-500 transition duration-300 ease-in-out ":"block appearance-none  text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3 leading-tight focus:outline-none  focus:border-orange-500 transition duration-300 ease-in-out bg-red-100",placeholder:"example.Alex",autoComplete:"off"},c("username")))]}),Object(m.jsx)("strong",{className:"text-red-500 text-xs italic",children:"username is require"})]}),Object(m.jsxs)("div",{className:" mb-6",children:[Object(m.jsx)("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",htmlFor:"grid-password",children:"Password"}),Object(m.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[Object(m.jsx)("input",Object(I.a)({className:r.passwordIsValid?"block appearance-none border-2 border-orange-100 rounded w-full py-2 px-2 text-gray-700 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-orange-500 transition duration-300 ease-in-out":"block appearance-none border-2 border-orange-100 rounded w-full py-2 px-2 text-gray-700 mb-3 leading-tight focus:outline-none  focus:border-orange-500 transition duration-300 ease-in-out bg-red-100",id:"grid-password",type:"password",placeholder:"******************"},c("password"))),"Log in"===s?Object(m.jsx)("div",{}):Object(m.jsx)("p",{className:"text-grey-dark text-xs italic",children:"Make it as long and as crazy as you'd like"})]})]}),Object(m.jsx)("div",{className:"flex items-center justify-between",children:"Log in"!==s?Object(m.jsx)("div",{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("input",Object(I.a)({id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},c("rememberMe"))),Object(m.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(m.jsx)("div",{className:"text-sm",children:Object(m.jsx)(u.b,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"SIGN UP"})})]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("button",{type:"submit",className:"Log in"===s?"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[Object(m.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(m.jsx)(B.a,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),s]})})]})},H=function(e){var t=e.verify,r=Object(n.useState)(!0),s=Object(d.a)(r,2),a=s[0],c=s[1],i=Object(n.useState)(!0),u=Object(d.a)(i,2),j=u[0],b=u[1],h=Object(n.useState)(!1),g=Object(d.a)(h,2),f=g[0],O=g[1],v=S().request,w=function(){var e=Object(l.a)(o.a.mark((function e(r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,v("https://appslack.herokuapp.com/api/login/","POST",{email:r.email,password:r.password});case 4:return n=e.sent,p(n,"auth"),e.next=8,t();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:O(!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){return c(!1),b(!1),alert("invalid"),!1},N=Object(m.jsx)(E,{isValid:function(e){c(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e.password)||""===e.password),b(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e.email)||""===e.email)},valid:{passwordIsValid:a,emailIsValid:j},onSubmit:function(e){return e.email&&e.password&&a&&j?w(e):y()},type:"Log in"});return Object(m.jsx)(m.Fragment,{children:f?Object(m.jsx)("div",{style:{marginTop:"20%",marginLeft:"24%"},children:Object(m.jsx)(x,{})}):Object(m.jsx)("div",{className:"min-h-screen flex  justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(m.jsx)("div",{className:"max-w-md w-full space-y-8 mt-4 ",children:Object(m.jsx)("div",{children:N})})})})},T=function(e){var t=e.verify,r=Object(n.useState)(!0),s=Object(d.a)(r,2),a=s[0],c=s[1],i=Object(n.useState)(!0),u=Object(d.a)(i,2),j=u[0],b=u[1],h=Object(n.useState)(!0),g=Object(d.a)(h,2),f=g[0],O=g[1],v=Object(n.useState)(!1),w=Object(d.a)(v,2),y=w[0],N=w[1],k=S().request,C=function(){var e=Object(l.a)(o.a.mark((function e(r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),e.next=4,k("https://appslack.herokuapp.com/api/register/","POST",{email:r.email,userName:r.username,password:r.password});case 4:return n=e.sent,p({token:n.token,userId:n.userId},"auth"),e.next=8,t();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:N(!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){return b(!1),c(!1),O(!1),alert("invalid"),!1},M=Object(m.jsx)(E,{isValid:function(e){c(/^([A-Za-z\xe9\xe0\xeb]{2,40} ?)+$/.test(e.username)||""===e.username),b(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e.password)||""===e.password),O(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e.email)||""===e.email)},valid:{passwordIsValid:j,usernameIsValid:a,emailIsValid:f},onSubmit:function(e){return e.email&&e.username&&e.password&&j&&a&&f?C(e):L()},type:"Sign up",emailI:!0});return Object(m.jsx)(m.Fragment,{children:y?Object(m.jsx)("div",{style:{marginTop:"20%",marginLeft:"24%"},children:Object(m.jsx)(x,{})}):Object(m.jsx)("div",{className:"min-h-screen flex  justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(m.jsx)("div",{className:"max-w-md w-full space-y-8 mt-4",children:Object(m.jsx)("div",{children:M})})})})},V=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(!0),c=Object(d.a)(a,2),i=c[0],j=c[1],b=S().request,h=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(b);case 2:t=e.sent,s(t),j(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){h()}),[]);var p=function(e,t){return e.data?Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{path:"/chat/:id",exact:!0,children:Object(m.jsx)(A,{user:e.data,allUsers:e.allDataFilter,verify:t})}),Object(m.jsx)(f.a,{to:"/chat/"+e.data.owner})]}):Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{path:"/login",exact:!0,children:Object(m.jsx)(H,{verify:t})}),Object(m.jsx)(f.b,{path:"/signup",exact:!0,children:Object(m.jsx)(T,{verify:t})}),Object(m.jsx)(f.a,{to:"/login"})]})}(r,h);return Object(m.jsx)(m.Fragment,{children:i?Object(m.jsx)("div",{style:{marginTop:"20%",marginLeft:"24%"},children:Object(m.jsx)(x,{})}):Object(m.jsx)(u.a,{children:Object(m.jsx)("div",{className:"App",children:p})})})},_=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,100)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))};c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(V,{})}),document.getElementById("root")),_()}},[[99,1,2]]]);
//# sourceMappingURL=main.b2de1e16.chunk.js.map